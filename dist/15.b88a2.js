(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"5jxC":function(e,t,n){var r=n("+5m6"),a=n("v3Sb");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},"6z7h":function(e,t,n){"use strict";var r=n("xwgP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},o=n("OPI+"),c=function(e,t){return r.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};c.displayName="MoreOutlined";t.a=r.forwardRef(c)},Ay7Q:function(e,t,n){"use strict";n("tftg"),n("nChU"),n("vkqi"),n("zXVS"),n("/ye0"),n("r1Ut");var r=n("JAAe"),a=n("xwgP"),o=n.n(a),c=n("fkYt"),i=n("efbE"),l=n("+/ph"),u=n("FCDC"),p=n("z5sN"),s=(n("zVDO"),n("8s+L"),n("RCf/"),n("iTHT"),n("zRWk"),n("2T1u"),n("Oy8d"),n("ywsi"),n("F3A9"),n("l7U1"),n("eZYV")),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},m=n("OPI+"),d=function(e,t){return a.createElement(m.a,Object.assign({},e,{ref:t,icon:f}))};d.displayName="MinusCircleOutlined";var b=a.forwardRef(d),y=n("8x1r"),g=n("dxih");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.value,n=void 0===t?[]:t,r=e.onChange,c=v(Object(a.useState)([]),2),f=c[0],m=c[1],d=Object(s.b)(),j=function(){i.a.get("projectFactory/moduleList",{type:3}).then((function(e){m((function(){return e.data.map((function(e){return{label:e.name,value:e.id}}))}))}))};return Object(a.useEffect)((function(){j()}),[]),o.a.createElement(l.a,null,o.a.createElement(u.a,{flex:"auto"},o.a.createElement(p.a,{defaultValue:n,onChange:function(e){r(e)},style:{width:"100%"},clearIcon:o.a.createElement(b,null),options:f})),o.a.createElement(u.a,{flex:"70px",onClick:function(){d.open({title:"新建"})},style:{textAlign:"right",lineHeight:"32px",color:"rgba(57, 147, 243, 1)",cursor:"pointer"}},o.a.createElement(y.a,null),"新建"),d.visible&&o.a.createElement(g.a,{params:d.params,onOk:function(e){i.a.post("projectFactory/addCategory",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:3,status:0},e)).then((function(){d.close(),j()}))},onCancel:d.close}))},E=n("0lfv"),x=["id","appSecret","appId"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.params,n=e.onCancel,l=e.onOk,u=t.title,p=t.type,s=t.record,f=s.appName,m=s.tags,d=s.categoryId,b=s.config.introduce,y=Object(a.useMemo)((function(){return Object(c.createAsyncFormActions)()}),[]),g=Object(a.useMemo)((function(){return{appName:f,tags:m,categoryId:d,introduce:b,type:13}}),[]);return o.a.createElement(r.a,{visible:!0,centered:!0,title:u,onCancel:n,onOk:function(){return y.submit()}},o.a.createElement(c.SchemaForm,{labelCol:4,wrapperCol:18,actions:y,onSubmit:function(e){var n=_(_({},t.record),e),r=(n.id,n.appSecret,n.appId,_({},C(n,x)));return"edit"===p&&(r=_(_({},t.record),e)),r.config.introduce=e.introduce,i.a.post("templateRoom/useTemplate",r).then((function(t){t.success&&l({id:t.data,categoryId:e.categoryId})}))},initialValues:g,components:{SingleSelect:w},schema:{type:"object",properties:Object(E.b)({appName:{type:"string",title:"名称",required:!0},tags:{type:"string",title:"标签",enum:[],required:!0,"x-props":{placeholder:"请输入",mode:"tags"}},categoryId:{required:!0,title:"分类","x-component":"SingleSelect"},introduce:{type:"textarea",title:"描述"}})}}))}},dxih:function(e,t,n){"use strict";var r=n("JAAe"),a=n("xwgP"),o=n.n(a),c=n("0lfv"),i=n("fkYt");t.a=function(e){var t=e.params,n=e.onOk,l=e.onCancel,u=t.title,p={type:"object",properties:Object(c.b)({name:{type:"string",title:"分类名称",required:!0}})},s=Object(a.useMemo)((function(){return Object(i.createAsyncFormActions)()}),[]);return o.a.createElement(r.a,{title:u,visible:!0,onOk:function(){s.submit()},onCancel:l},o.a.createElement(i.SchemaForm,{onSubmit:function(e){n(e)},actions:s,labelCol:4,wrapperCol:18,schema:p}))}},hVDy:function(e,t,n){"use strict";n.r(t);n("SFZ+"),n("imEK"),n("hU/4"),n("zVDO"),n("WcSp"),n("nChU"),n("RCf/"),n("iTHT"),n("zRWk"),n("2T1u"),n("Oy8d"),n("ywsi"),n("F3A9"),n("8s+L"),n("l7U1");var r=n("xwgP"),a=n.n(r),o=n("efbE"),c=n("q5+0"),i=n("Nhdc"),l=(n("tftg"),n("vkqi"),n("zXVS"),n("/ye0"),n("r1Ut"),n("aHDc"),n("R7Ad"),n("eZYV")),u=n("jjkY"),p=n.n(u),s=n("uuOE"),f=n("Ay7Q"),m=["startTime","endTime"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=i.g.Content,v=function(e){var t=e.history,n=e.match.params.id,o=Object(l.b)(),c={platformFlag:n,status:0,modelType:12},u=Object(l.a)("templateRoom/list",g({},c));Object(r.useEffect)((function(){n&&u.onRefresh(g({},c))}),[n]);var y={cardName:{type:"string",title:"样板间名称"},tag:{type:"string",title:"样板间标签"},"[startTime,endTime]":{type:"daterange",title:"上线时间"}};return a.a.createElement(O,{title:"大屏端",loading:u.loading},a.a.createElement(i.h,{schema:y,onSearch:function(e){var t=e.startTime,n=e.endTime,r=b(e,m);t&&n&&(r.startTime=p()(t).startOf("day").format("YYYY-MM-DD HH:mm:ss"),r.endTime=p()(n).startOf("day").format("YYYY-MM-DD HH:mm:ss")),u.onSearch(g(g({},r),c))}}),a.a.createElement(i.b,d({},u.table,{renderRecord:function(e){return a.a.createElement(s.a,{cardType:"room",handleUse:function(){return function(e){o.open({type:"create",title:"创建",record:e})}(e)},onSelect:function(){},key:e.id,record:e})}})),o.visible&&a.a.createElement(f.a,{params:o.params,onCancel:o.close,onOk:function(e){var n=e.id,r=e.categoryId;o.close(),t.push("/cp-manage/project-factory/".concat(r,"/edit/").concat(n))}}))};function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=i.g.Sider;t.default=function(e){var t=e.history,n=e.match.path,l=Object(c.i)().id,u=j(Object(r.useState)([]),2),p=u[0],s=u[1],f=function(e){t.push(n.replace(":id",e.platform))};return Object(r.useEffect)((function(){!l&&p.length>0&&f(p[0])}),[p,l]),Object(r.useEffect)((function(){o.a.get("templateRoom/moduleList").then((function(e){s(e.data)}))}),[]),a.a.createElement(i.g,null,a.a.createElement(E,{title:"样板间"},a.a.createElement(E.Menus,{title:"分组"},p.map((function(e){return a.a.createElement(E.Menus.Item,{key:e.platform,title:e.typeName,active:Number(l)===e.platform,onClick:function(){return f(e)},extra:a.a.createElement("span",null,e.count)})})))),a.a.createElement(c.b,{exact:!0,path:n,component:v}))}},imEK:function(e,t,n){"use strict";var r=n("18CW"),a=n("uLeI"),o=n("ypEt"),c=n("mg4x"),i=n("JLJY"),l=n("FDUM");r("match",1,(function(e,t,n){return[function(t){var n=c(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var c=a(e),u=String(this);if(!c.global)return l(c,u);var p=c.unicode;c.lastIndex=0;for(var s,f=[],m=0;null!==(s=l(c,u));){var d=String(s[0]);f[m]=d,""===d&&(c.lastIndex=i(u,o(c.lastIndex),p)),m++}return 0===m?null:f}]}))},uuOE:function(e,t,n){"use strict";var r=n("BxiP"),a=n("cay0"),o=n("xwgP"),c=n.n(o),i=n("6z7h");n("5jxC");t.a=function(e){var t=e.cardType,n=void 0===t?"config":t,o=e.publish,l=e.onSelect,u=e.handleUse,p=e.handleStatus,s=e.record,f=s.appName,m=s.iconUrl,d=c.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},c.a.createElement("p",{onClick:p},0===o?"下线":"上线"));return c.a.createElement("div",{onClick:l,className:"template-card"},c.a.createElement("div",{className:"template-card__content"},c.a.createElement("div",{className:"picture"},c.a.createElement("img",{className:"picture__img",src:m,alt:""})),c.a.createElement("div",{className:"info__footer flex"},c.a.createElement("div",{className:"info__footer__title",title:f},f),c.a.createElement("p",{className:"info__footer__operate",onClick:function(e){return e.stopPropagation()}},"config"===n?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{style:{cursor:"pointer"}},c.a.createElement(a.a,{content:d,placement:"rightTop",trigger:"hover",overlayClassName:"menu__more__tooltip"},c.a.createElement(i.a,null)))):c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,{type:"primary",size:"middle",onClick:function(){u(s)}},"使用"))))))}},v3Sb:function(e,t,n){"use strict";n.r(t);var r=n("y8BH"),a=n.n(r)()(!1);a.push([e.i,".template-card {\n  width: 320px;\n  height: 200px;\n  padding: 15px;\n  border-radius: 4px;\n  background-color: #ffffff;\n  border: 1px solid #e9ecf0;\n}\n.template-card:hover {\n  box-shadow: 0 0 5px 0 #3993f3;\n}\n.template-card .template-card__content {\n  width: 100%;\n}\n.template-card .picture {\n  width: 100%;\n  height: 130px;\n  box-sizing: border-box;\n  margin-bottom: 15px;\n}\n.template-card .picture .picture__img {\n  width: 100%;\n  height: 100%;\n}\n.template-card .info__footer__title {\n  font-size: 16px;\n  color: #000000;\n  max-width: 180px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.template-card .info__footer__operate {\n  -ms-flex: 1;\n      flex: 1;\n  text-align: right;\n}\n.menu__more__tooltip .ant-popover-arrow {\n  display: none;\n}\n.menu__more__tooltip .ant-popover-inner-content {\n  padding: 0;\n  text-align: center;\n  width: 62px;\n}\n.menu__more__tooltip .ant-popover-inner-content p {\n  margin-bottom: 0;\n  cursor: pointer;\n  line-height: 32px;\n}\n.menu__more__tooltip .ant-popover-inner-content p:hover {\n  background-color: rgba(57, 147, 243, 0.1);\n}\n.ant-popover {\n  z-index: 999;\n}\n",""]),t.default=a}}]);