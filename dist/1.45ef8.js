(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/aC1":function(e,t,n){"use strict";n.r(t);n("SFZ+"),n("imEK"),n("hU/4"),n("zVDO"),n("WcSp"),n("nChU"),n("RCf/"),n("iTHT"),n("zRWk"),n("2T1u"),n("Oy8d"),n("ywsi"),n("F3A9"),n("8s+L"),n("l7U1"),n("tftg"),n("vkqi"),n("zXVS"),n("/ye0"),n("r1Ut");var r=n("xwgP"),a=n.n(r),o=n("q5+0"),i=n("Nhdc"),c=n("efbE"),l=n("eZYV"),u=n("dxih"),s=n("LTyu"),f=n("JAAe"),p=(n("aHDc"),n("jjkY")),m=n.n(p),d=[{label:"折线图",value:0},{label:"曲线图",value:1},{label:"指标图",value:2},{label:"条形柱状图",value:3},{label:"雷达图",value:4},{label:"饼图",value:5},{label:"环形饼图",value:6}],b=[{label:"已发布",value:0},{label:"未发布",value:1}],y=n("uuOE"),g=["startTime","endTime"];function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=i.g.Content,S=function(e){var t=e.match.params.id,n=_(Object(r.useState)(b[0].value),2),o=n[0],u=n[1],p={platformFlag:t,status:o,modelType:12},O=Object(l.a)("templateConfig/list",j({},p));Object(r.useEffect)((function(){t&&O.onRefresh(j({},p))}),[t]);var w={cardName:{type:"string",title:"样板间名称"},tag:{type:"string",title:"样板间标签"},chartType:{type:"string",title:"图表类型",enum:d}};return a.a.createElement(E,{title:"大屏端",loading:O.loading},a.a.createElement(s.a.Group,{options:b,optionType:"button",buttonStyle:"solid",defaultValue:o,onChange:function(e){u((function(){return O.onRefresh(j(j({},p),{},{status:e.target.value})),e.target.value}))},className:"xm-radio-buttons"}),a.a.createElement(i.h,{schema:w,onSearch:function(e){var t=e.startTime,n=e.endTime,r=v(e,g);t&&n&&(r.startTime=m()(t).startOf("day").format("YYYY-MM-DD HH:mm:ss"),r.endTime=m()(n).startOf("day").format("YYYY-MM-DD HH:mm:ss")),O.onSearch(j(j({},r),p))}}),a.a.createElement(i.b,h({},O.table,{renderRecord:function(e){return a.a.createElement(y.a,{cardType:"config",publish:o,onSelect:function(){},key:e.id,record:e,handlePreview:function(){},handleDelete:function(){f.a.confirm({centered:!0,title:"确认删除吗？",content:"删除后，数据不可恢复，确认删除？",onOk:function(){}})},handleStatus:function(){return function(e){f.a.confirm({centered:!0,title:"确认".concat(0===o?"下线":"上线","吗？"),onOk:function(){c.a.post("templateConfig/status",{status:0===o?1:0,cardIds:[e]}).then((function(e){e.success&&O.onRefresh(j({},p))}))}})}(e.id)}})}})))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=i.g.Sider;t.default=function(e){var t=e.history,n=e.match.path,s=Object(o.i)().id,f=k(Object(r.useState)([]),2),p=f[0],m=f[1],d=Object(l.b)(),b=function(){return c.a.get("templateConfig/moduleList").then((function(e){m(e.data)}))},y=function(e){t.push(n.replace(":id",e.platform))};return Object(r.useEffect)((function(){!s&&p.length>0&&y(p[0])}),[p,s]),Object(r.useEffect)((function(){b()}),[]),a.a.createElement(i.g,null,a.a.createElement(T,{title:"样板设置"},a.a.createElement(T.Menus,{title:"分组"},p.map((function(e){return a.a.createElement(T.Menus.Item,{key:e.platform,title:e.typeName,active:Number(s)===e.platform,onClick:function(){return y(e)},extra:a.a.createElement("div",{className:"menu__extra"},e.count)})})))),d.visible&&a.a.createElement(u.a,{params:d.params,onCancel:d.close,onOk:function(e){c.a.post("projectFactory/addCategory",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:3,status:0},e)).then((function(){d.close(),b()}))}}),a.a.createElement(o.b,{exact:!0,path:n,component:S}))}},"5jxC":function(e,t,n){var r=n("+5m6"),a=n("v3Sb");"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},"6z7h":function(e,t,n){"use strict";var r=n("xwgP"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},o=n("OPI+"),i=function(e,t){return r.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName="MoreOutlined";t.a=r.forwardRef(i)},dxih:function(e,t,n){"use strict";var r=n("JAAe"),a=n("xwgP"),o=n.n(a),i=n("0lfv"),c=n("fkYt");t.a=function(e){var t=e.params,n=e.onOk,l=e.onCancel,u=t.title,s={type:"object",properties:Object(i.b)({name:{type:"string",title:"分类名称",required:!0}})},f=Object(a.useMemo)((function(){return Object(c.createAsyncFormActions)()}),[]);return o.a.createElement(r.a,{title:u,visible:!0,onOk:function(){f.submit()},onCancel:l},o.a.createElement(c.SchemaForm,{onSubmit:function(e){n(e)},actions:f,labelCol:4,wrapperCol:18,schema:s}))}},imEK:function(e,t,n){"use strict";var r=n("18CW"),a=n("uLeI"),o=n("ypEt"),i=n("mg4x"),c=n("JLJY"),l=n("FDUM");r("match",1,(function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=a(e),u=String(this);if(!i.global)return l(i,u);var s=i.unicode;i.lastIndex=0;for(var f,p=[],m=0;null!==(f=l(i,u));){var d=String(f[0]);p[m]=d,""===d&&(i.lastIndex=c(u,o(i.lastIndex),s)),m++}return 0===m?null:p}]}))},uuOE:function(e,t,n){"use strict";var r=n("BxiP"),a=n("cay0"),o=n("xwgP"),i=n.n(o),c=n("6z7h");n("5jxC");t.a=function(e){var t=e.cardType,n=void 0===t?"config":t,o=e.publish,l=e.onSelect,u=e.handleUse,s=e.handleStatus,f=e.record,p=f.appName,m=f.iconUrl,d=i.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},i.a.createElement("p",{onClick:s},0===o?"下线":"上线"));return i.a.createElement("div",{onClick:l,className:"template-card"},i.a.createElement("div",{className:"template-card__content"},i.a.createElement("div",{className:"picture"},i.a.createElement("img",{className:"picture__img",src:m,alt:""})),i.a.createElement("div",{className:"info__footer flex"},i.a.createElement("div",{className:"info__footer__title",title:p},p),i.a.createElement("p",{className:"info__footer__operate",onClick:function(e){return e.stopPropagation()}},"config"===n?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{style:{cursor:"pointer"}},i.a.createElement(a.a,{content:d,placement:"rightTop",trigger:"hover",overlayClassName:"menu__more__tooltip"},i.a.createElement(c.a,null)))):i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{type:"primary",size:"middle",onClick:function(){u(f)}},"使用"))))))}},v3Sb:function(e,t,n){"use strict";n.r(t);var r=n("y8BH"),a=n.n(r)()(!1);a.push([e.i,".template-card {\n  width: 320px;\n  height: 200px;\n  padding: 15px;\n  border-radius: 4px;\n  background-color: #ffffff;\n  border: 1px solid #e9ecf0;\n}\n.template-card:hover {\n  box-shadow: 0 0 5px 0 #3993f3;\n}\n.template-card .template-card__content {\n  width: 100%;\n}\n.template-card .picture {\n  width: 100%;\n  height: 130px;\n  box-sizing: border-box;\n  margin-bottom: 15px;\n}\n.template-card .picture .picture__img {\n  width: 100%;\n  height: 100%;\n}\n.template-card .info__footer__title {\n  font-size: 16px;\n  color: #000000;\n  max-width: 180px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.template-card .info__footer__operate {\n  -ms-flex: 1;\n      flex: 1;\n  text-align: right;\n}\n.menu__more__tooltip .ant-popover-arrow {\n  display: none;\n}\n.menu__more__tooltip .ant-popover-inner-content {\n  padding: 0;\n  text-align: center;\n  width: 62px;\n}\n.menu__more__tooltip .ant-popover-inner-content p {\n  margin-bottom: 0;\n  cursor: pointer;\n  line-height: 32px;\n}\n.menu__more__tooltip .ant-popover-inner-content p:hover {\n  background-color: rgba(57, 147, 243, 0.1);\n}\n.ant-popover {\n  z-index: 999;\n}\n",""]),t.default=a}}]);